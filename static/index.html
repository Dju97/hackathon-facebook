<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Messenger Stats</title>

    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <!-- <link href="{% static 'css/blog.css' %}" rel="stylesheet"> -->
    <!-- <link href="{% static 'css/dist.min.css' %}" rel="stylesheet"> -->
    <link href="css/dist.min.css" rel="stylesheet">
    <link href="css/blog.css" rel="stylesheet">
    <link href="css/vis-network.min.css" rel="stylesheet">
  </head>

  <body onload="draw()">

    <div class="container">
      <header class="blog-header py-3">
        <div class="row flex-nowrap justify-content-between align-items-center">
          <div class="col-4 pt-1">
            <a class="text-muted" href="#">Subscribe</a>
          </div>
          <div class="col-4 text-center">
            <a class="blog-header-logo text-dark" href="#">Messenger Stats</a>
          </div>
          <div class="col-4 d-flex justify-content-end align-items-center">
            <a class="text-muted" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-3"><circle cx="10.5" cy="10.5" r="7.5"></circle><line x1="21" y1="21" x2="15.8" y2="15.8"></line></svg>
            </a>
            <a class="btn btn-sm btn-outline-secondary" href="#">Sign up</a>
          </div>
        </div>
      </header>

      <div class="nav-scroller py-1 mb-2">
        <nav class="nav d-flex justify-content-between">
          <a class="p-2 text-muted" href="#">World</a>
          <a class="p-2 text-muted" href="#">U.S.</a>
          <a class="p-2 text-muted" href="#">Technology</a>
          <a class="p-2 text-muted" href="#">Design</a>
          <a class="p-2 text-muted" href="#">Culture</a>
          <a class="p-2 text-muted" href="#">Business</a>
          <a class="p-2 text-muted" href="#">Politics</a>
          <a class="p-2 text-muted" href="#">Opinion</a>
          <a class="p-2 text-muted" href="#">Science</a>
          <a class="p-2 text-muted" href="#">Health</a>
          <a class="p-2 text-muted" href="#">Style</a>
          <a class="p-2 text-muted" href="#">Travel</a>
        </nav>
      </div>

      <!-- <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark">
        <div class="col-md-6 px-0">
          <h1 class="display-4 font-italic">Title of a longer featured blog post</h1>
          <p class="lead my-3">Multiple lines of text that form the lede, informing new readers quickly and efficiently about what's most interesting in this post's contents.</p>
          <p class="lead mb-0"><a href="#" class="text-white font-weight-bold">Continue reading...</a></p>
        </div>
      </div> -->

      <!-- <div class="row mb-2">
        <div class="col-md-6">
          <div class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-primary">World</strong>
              <h3 class="mb-0">
                <a class="text-dark" href="#">Featured post</a>
              </h3>
              <div class="mb-1 text-muted">Nov 12</div>
              <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
              <a href="#">Continue reading</a>
            </div>
            <img class="card-img-right flex-auto d-none d-md-block" src="img/initial-bootstrap-template/thumbnail.svg" alt="Thumbnail [200x250]">
          </div>
        </div>
        <div class="col-md-6">
          <div class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-success">Design</strong>
              <h3 class="mb-0">
                <a class="text-dark" href="#">Post title</a>
              </h3>
              <div class="mb-1 text-muted">Nov 11</div>
              <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
              <a href="#">Continue reading</a>
            </div>
            <img class="card-img-right flex-auto d-none d-md-block" src="img/initial-bootstrap-template/thumbnail.svg" alt="Thumbnail [200x250]">
          </div>
        </div>
    </div> -->

    <h3 class="mt-5">Login</h3>
    <form class="form-inline">
      <div class="form-group mb-2">
        <label for="staticEmail2" class="sr-only">Email</label>
        <input type="text" class="form-control" id="staticEmail2" placeholder="email@example.com">
      </div>
      <div class="form-group mx-sm-3 mb-2">
        <label for="inputPassword2" class="sr-only">Password</label>
        <input type="password" class="form-control" id="inputPassword2" placeholder="Password">
      </div>
      <button type="submit" class="btn btn-primary mb-2">Confirm identity</button>
    </form>

    <h3 class="mt-5">Thread List</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">Image</th>
          <th scope="col">Thread Name</th>
          <th scope="col">Messages</th>
          <th scope="col">Choose</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><img class="thumb-fb" src="img/me.jpeg"></td>
          <td>Otto</td>
          <td>1000</td>
          <td>
            <form action="#" method="post">
              <input hidden type="text" name="" value="0">
              <button type="submit" class="btn btn-dark btn-get-stats" thread-id="0">Get the stats !</button>
            </form>
          </td>
        </tr>
        <tr>
          <td><img class="thumb-fb" src="img/me.jpeg"></td>
          <td>Thornton</td>
          <td>100</td>
          <td>
            <form action="#" method="post">
              <input hidden type="text" name="thread-id" value="0">
              <button type="submit" class="btn btn-dark btn-get-stats" thread-id="1">Get the stats !</button>
            </form>
          </td>
        </tr>
        <tr>
          <td><img class="thumb-fb" src="img/me.jpeg"></td>
          <td>the Bird</td>
          <td>10</td>
          <td>
            <form action="#" method="post">
              <input hidden type="text" name="" value="0">
              <button type="submit" class="btn btn-dark btn-get-stats" thread-id="2">Get the stats !</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="mt-5">Bar Chart</h3>
    <canvas id="barChart" width="100%" height="40"></canvas>

    <h3 class="mt-5">Graph</h3>
    <div id="sigma-chart" style="height:200px"></div>

    <h3 class="mt-5">Network</h3>
    <div id="mynetwork" style="height:300px"></div>

    <h3 class="mt-5">Thread Leaderboard</h3>

    <form class="form-inline my-3">
      <div class="form-check mx-2">
        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
        <label class="form-check-label" for="exampleRadios1">Reactions Received</label>
      </div>
      <div class="form-check mx-2">
        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
        <label class="form-check-label" for="exampleRadios2">Reactions Given</label>
      </div>
      <div class="form-check mx-2">
        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3">
        <label class="form-check-label" for="exampleRadios3">Messages</label>
      </div>
      <input hidden type="text" name="thread-id" value="0">
      <button type="submit" class="btn btn-dark">Filter !</button>
    </form>

    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">Image</th>
          <th scope="col">Username</th>
          <th scope="col">Messages</th>
          <th scope="col">Reactions Received</th>
          <th scope="col">Reactions Given</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><img class="thumb-fb" src="img/me.jpeg"></td>
          <td>Otto</td>
          <td>1000</td>
          <td>1000</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><img class="thumb-fb" src="img/me.jpeg"></td>
          <td>Thornton</td>
          <td>100</td>
          <td>100</td>
          <td>100</td>
        </tr>
        <tr>
          <td><img class="thumb-fb" src="img/me.jpeg"></td>
          <td>the Bird</td>
          <td>10</td>
          <td>10</td>
          <td>10</td>
        </tr>
      </tbody>
    </table>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="js/sigma.min.js"></script>

    <script type="text/javascript">
    data = {
      "nodes": [
        {
          "id": "n0",
          "label": "A node",
          "x": 0,
          "y": 0,
          "size": 3
        },
        {
          "id": "n1",
          "label": "Another node",
          "x": 3,
          "y": 1,
          "size": 2
        },
        {
          "id": "n2",
          "label": "Yet Another node",
          "x": 3,
          "y": 3,
          "size": 5
        },
      ],
      "edges": [
        {
          "id": "e0",
          "source": "n0",
          "target": "n1"
        },
        {
          "id": "e1",
          "source": "n0",
          "target": "n2"
        },
        {
          "id": "e2",
          "source": "n1",
          "target": "n2",
          "size" : 10,
        },
      ]
    }

    s = new sigma({
        graph: data,
        container: 'sigma-chart',
        settings: {
            defaultNodeColor: '#ec5148',
            labelThreshold : 0
        }
    });

    </script>

    <script type="text/javascript">
      var ctx = document.getElementById('barChart').getContext('2d');

      var myBarChart = new Chart(ctx, {
          type: 'horizontalBar',
          data: {
            labels: ['A', 'B', 'C', 'D', 'E'],
            datasets: [{
                label: 'Messages',
                backgroundColor: 'rgb(52, 58, 64)',
                borderColor: 'rgb(52, 58, 64)',
                data: [2, 10, 6, 12, 4]
            }]
          },
          options: {
            scales: {
                xAxes: [{
                    stacked: true
                }],
                yAxes: [{
                    stacked: true
                }]
            }
          }
      });
    </script>

    <script src="js/vis.js"></script>

    <script type="text/javascript">
        var nodes = null;
        var edges = null;
        var network = null;

        function draw() {
          // create people.
          // value corresponds with the age of the person
          nodes = [
            {'id': 1,  'value': 2,  'label': 'Algie' },
            {'id': 2,  'value': 31, 'label': 'Alston'},
            {'id': 3,  'value': 12, 'label': 'Barney'},
            {'id': 4,  'value': 16, 'label': 'Coley' },
            {'id': 5,  'value': 17, 'label': 'Grant' },
            {'id': 6,  'value': 15, 'label': 'Langdon'},
            {'id': 7,  'value': 6,  'label': 'Lee'},
            {'id': 8,  'value': 5,  'label': 'Merlin'},
            {'id': 9,  'value': 30, 'label': 'Mick'},
            {'id': 10, 'value': 18, 'label': 'Tod'},
          ];

          // create connections between people
          // value corresponds with the amount of contact between two people
          edges = [
            {'from': 2, 'to': 8, 'value': 3},
            {'from': 2, 'to': 9, 'value': 5},
            {'from': 2, 'to': 10,'value': 1},
            {'from': 4, 'to': 6, 'value': 8},
            {'from': 5, 'to': 7, 'value': 2},
            {'from': 4, 'to': 5, 'value': 1},
            {'from': 9, 'to': 10,'value': 2},
            {'from': 2, 'to': 3, 'value': 6},
            {'from': 3, 'to': 9, 'value': 4},
            {'from': 5, 'to': 3, 'value': 1},
            {'from': 2, 'to': 7, 'value': 4}
          ];

          // Instantiate our network object.
          var container = document.getElementById('mynetwork');
          var data = {
            nodes: nodes,
            edges: edges
          };
          var options = {
            nodes: {
              shape: 'dot',
              scaling: {
                customScalingFunction: function (min,max,total,value) {
                  return value/total;
                },
                min:5,
                max:150
              }
            }
          };
          network = new vis.Network(container, data, options);
          console.log(network);
        }
      </script>
  </body>
</html>
